import json
import unittest

from rs.ai.requested_strike.handlers.battle_handler import BattleHandler
from rs.ai.requested_strike.handlers.temp_fight_handler import TempFightHandler
from rs.machine.state import GameState

PLAY_BASH_STATE = '{"available_commands":["play","end","key","click","wait","state"],"ready_for_command":true,"in_game":true,"game_state":{"screen_type":"NONE","screen_state":{},"seed":7230305506610474027,"combat_state":{"draw_pile":[],"discard_pile":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"44da5781-7908-4294-9fc5-d9d724d223e1","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"6c507abf-9afb-4178-b323-41ca23555d47","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"6268fdd7-4991-4a27-85ef-74f4a6e06d85","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"ed5cd987-dd27-441c-9057-ad1dbc267048","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"10186e29-9fc2-43ca-827f-318261dff11c","upgrades":0,"rarity":"BASIC","has_target":false}],"exhaust_pile":[],"cards_discarded_this_turn":0,"times_damaged":0,"monsters":[{"is_gone":false,"move_hits":1,"move_base_damage":6,"last_move_id":3,"half_dead":false,"move_adjusted_damage":6,"max_hp":54,"intent":"ATTACK","move_id":1,"name":"Cultist","current_hp":36,"block":0,"id":"Cultist","powers":[{"amount":3,"just_applied":false,"name":"Ritual","id":"Ritual"}]}],"turn":2,"limbo":[],"hand":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"03f7b5f1-7eb7-48bb-bb24-2dee458aff7b","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":2,"name":"Bash+","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"b3aa11e5-6a42-4a6e-a01c-84fd2b2ce616","upgrades":1,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"a1d598ae-39b4-4356-b88c-c44d62a34022","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"39417829-f9c2-4961-83eb-4b72dd43ee1d","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"a18ea0a2-5824-400e-bcf8-e5b9bc8ddac2","upgrades":0,"rarity":"BASIC","has_target":false}],"player":{"orbs":[],"current_hp":80,"block":0,"max_hp":80,"powers":[],"energy":3}},"deck":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"6c507abf-9afb-4178-b323-41ca23555d47","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"44da5781-7908-4294-9fc5-d9d724d223e1","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"39417829-f9c2-4961-83eb-4b72dd43ee1d","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"6268fdd7-4991-4a27-85ef-74f4a6e06d85","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"03f7b5f1-7eb7-48bb-bb24-2dee458aff7b","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"ed5cd987-dd27-441c-9057-ad1dbc267048","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"10186e29-9fc2-43ca-827f-318261dff11c","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"a1d598ae-39b4-4356-b88c-c44d62a34022","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"a18ea0a2-5824-400e-bcf8-e5b9bc8ddac2","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":2,"name":"Bash+","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"b3aa11e5-6a42-4a6e-a01c-84fd2b2ce616","upgrades":1,"rarity":"BASIC","has_target":true}],"relics":[{"name":"Burning Blood","id":"Burning Blood","counter":-1}],"max_hp":80,"act_boss":"Slime Boss","gold":99,"action_phase":"WAITING_ON_USER","act":1,"screen_name":"NONE","room_phase":"COMBAT","is_screen_up":false,"potions":[{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"},{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"},{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"}],"current_hp":80,"floor":1,"ascension_level":0,"class":"IRONCLAD","map":[{"symbol":"M","children":[{"x":0,"y":1}],"x":0,"y":0,"parents":[]},{"symbol":"M","children":[{"x":2,"y":1}],"x":1,"y":0,"parents":[]},{"symbol":"M","children":[{"x":3,"y":1}],"x":3,"y":0,"parents":[]},{"symbol":"M","children":[{"x":4,"y":1}],"x":4,"y":0,"parents":[]},{"symbol":"M","children":[{"x":6,"y":1}],"x":6,"y":0,"parents":[]},{"symbol":"M","children":[{"x":1,"y":2}],"x":0,"y":1,"parents":[]},{"symbol":"M","children":[{"x":1,"y":2}],"x":2,"y":1,"parents":[]},{"symbol":"M","children":[{"x":2,"y":2},{"x":4,"y":2}],"x":3,"y":1,"parents":[]},{"symbol":"?","children":[{"x":5,"y":2}],"x":4,"y":1,"parents":[]},{"symbol":"M","children":[{"x":6,"y":2}],"x":6,"y":1,"parents":[]},{"symbol":"M","children":[{"x":2,"y":3}],"x":1,"y":2,"parents":[]},{"symbol":"M","children":[{"x":2,"y":3}],"x":2,"y":2,"parents":[]},{"symbol":"?","children":[{"x":4,"y":3}],"x":4,"y":2,"parents":[]},{"symbol":"?","children":[{"x":5,"y":3}],"x":5,"y":2,"parents":[]},{"symbol":"?","children":[{"x":6,"y":3}],"x":6,"y":2,"parents":[]},{"symbol":"M","children":[{"x":3,"y":4}],"x":2,"y":3,"parents":[]},{"symbol":"M","children":[{"x":3,"y":4}],"x":4,"y":3,"parents":[]},{"symbol":"M","children":[{"x":4,"y":4}],"x":5,"y":3,"parents":[]},{"symbol":"M","children":[{"x":5,"y":4}],"x":6,"y":3,"parents":[]},{"symbol":"?","children":[{"x":3,"y":5},{"x":4,"y":5}],"x":3,"y":4,"parents":[]},{"symbol":"M","children":[{"x":4,"y":5}],"x":4,"y":4,"parents":[]},{"symbol":"M","children":[{"x":5,"y":5}],"x":5,"y":4,"parents":[]},{"symbol":"E","children":[{"x":3,"y":6}],"x":3,"y":5,"parents":[]},{"symbol":"R","children":[{"x":3,"y":6},{"x":5,"y":6}],"x":4,"y":5,"parents":[]},{"symbol":"R","children":[{"x":5,"y":6}],"x":5,"y":5,"parents":[]},{"symbol":"M","children":[{"x":2,"y":7},{"x":3,"y":7},{"x":4,"y":7}],"x":3,"y":6,"parents":[]},{"symbol":"E","children":[{"x":6,"y":7}],"x":5,"y":6,"parents":[]},{"symbol":"E","children":[{"x":2,"y":8}],"x":2,"y":7,"parents":[]},{"symbol":"M","children":[{"x":2,"y":8}],"x":3,"y":7,"parents":[]},{"symbol":"$","children":[{"x":5,"y":8}],"x":4,"y":7,"parents":[]},{"symbol":"M","children":[{"x":5,"y":8}],"x":6,"y":7,"parents":[]},{"symbol":"T","children":[{"x":2,"y":9}],"x":2,"y":8,"parents":[]},{"symbol":"T","children":[{"x":5,"y":9},{"x":6,"y":9}],"x":5,"y":8,"parents":[]},{"symbol":"?","children":[{"x":2,"y":10},{"x":3,"y":10}],"x":2,"y":9,"parents":[]},{"symbol":"M","children":[{"x":4,"y":10},{"x":5,"y":10}],"x":5,"y":9,"parents":[]},{"symbol":"?","children":[{"x":5,"y":10}],"x":6,"y":9,"parents":[]},{"symbol":"E","children":[{"x":2,"y":11}],"x":2,"y":10,"parents":[]},{"symbol":"R","children":[{"x":4,"y":11}],"x":3,"y":10,"parents":[]},{"symbol":"?","children":[{"x":4,"y":11},{"x":5,"y":11}],"x":4,"y":10,"parents":[]},{"symbol":"$","children":[{"x":6,"y":11}],"x":5,"y":10,"parents":[]},{"symbol":"M","children":[{"x":1,"y":12}],"x":2,"y":11,"parents":[]},{"symbol":"M","children":[{"x":3,"y":12},{"x":5,"y":12}],"x":4,"y":11,"parents":[]},{"symbol":"?","children":[{"x":5,"y":12}],"x":5,"y":11,"parents":[]},{"symbol":"M","children":[{"x":5,"y":12},{"x":6,"y":12}],"x":6,"y":11,"parents":[]},{"symbol":"$","children":[{"x":1,"y":13}],"x":1,"y":12,"parents":[]},{"symbol":"R","children":[{"x":3,"y":13}],"x":3,"y":12,"parents":[]},{"symbol":"M","children":[{"x":4,"y":13},{"x":5,"y":13}],"x":5,"y":12,"parents":[]},{"symbol":"R","children":[{"x":6,"y":13}],"x":6,"y":12,"parents":[]},{"symbol":"?","children":[{"x":1,"y":14}],"x":1,"y":13,"parents":[]},{"symbol":"?","children":[{"x":3,"y":14}],"x":3,"y":13,"parents":[]},{"symbol":"M","children":[{"x":3,"y":14},{"x":5,"y":14}],"x":4,"y":13,"parents":[]},{"symbol":"M","children":[{"x":5,"y":14}],"x":5,"y":13,"parents":[]},{"symbol":"M","children":[{"x":6,"y":14}],"x":6,"y":13,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":1,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":3,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":5,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":6,"y":14,"parents":[]}],"room_type":"MonsterRoom"}}'
ENTANGLED_STATE = '{"available_commands":["play","end","potion","key","click","wait","state"],"ready_for_command":true,"in_game":true,"game_state":{"screen_type":"NONE","screen_state":{},"seed":7230305506610474027,"combat_state":{"draw_pile":[{"exhausts":false,"is_playable":false,"cost":1,"name":"Headbutt","id":"Headbutt","type":"ATTACK","ethereal":false,"uuid":"3c93fe0d-657f-4618-ba86-745b6dd1ab50","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":false,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"35b891a8-b35c-48fd-9072-11b399f04437","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"38cce5d0-b4e6-4312-bf8b-69a413093291","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":false,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"4df06365-d99e-43cd-a743-4935f05648af","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":false,"cost":2,"name":"Bash","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"0add998d-6571-4f08-b100-3629d9ad0b35","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"301fadd9-f555-477f-8a50-28b3bf706024","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":false,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"f11ab94a-d9a8-4c00-9772-24fac4e8c5b9","upgrades":0,"rarity":"BASIC","has_target":true}],"discard_pile":[],"exhaust_pile":[],"cards_discarded_this_turn":0,"times_damaged":1,"monsters":[{"is_gone":false,"move_hits":1,"move_base_damage":13,"last_move_id":2,"half_dead":false,"move_adjusted_damage":13,"max_hp":46,"intent":"ATTACK","second_last_move_id":1,"move_id":1,"name":"Slaver","current_hp":16,"block":0,"id":"SlaverRed","powers":[{"amount":1,"just_applied":false,"name":"Vulnerable","id":"Vulnerable"}]}],"turn":3,"limbo":[],"hand":[{"exhausts":false,"is_playable":false,"cost":1,"name":"Pommel Strike","id":"Pommel Strike","type":"ATTACK","ethereal":false,"uuid":"8c310a44-43c0-4681-a8b5-b9d72d3dd09a","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":false,"cost":1,"name":"Strike+","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"7c33e798-7f55-4577-b87f-dd320cb9198d","upgrades":1,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":false,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"ac619ed1-45e7-4809-aece-d4c4249d8270","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"feb7cde9-1f9b-4e12-ab10-57f6a2ecef80","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"9fe49549-cfc1-4299-824d-8e3dbc9c33b5","upgrades":0,"rarity":"BASIC","has_target":false}],"player":{"orbs":[],"current_hp":60,"block":0,"max_hp":80,"powers":[{"amount":1,"name":"Dark Embrace","id":"Dark Embrace"},{"amount":1,"name":"Entangled","id":"Entangled"}],"energy":3}},"deck":[{"exhausts":false,"is_playable":false,"cost":1,"name":"Strike+","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"7c33e798-7f55-4577-b87f-dd320cb9198d","upgrades":1,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":false,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"ac619ed1-45e7-4809-aece-d4c4249d8270","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":false,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"4df06365-d99e-43cd-a743-4935f05648af","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":false,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"f11ab94a-d9a8-4c00-9772-24fac4e8c5b9","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":false,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"35b891a8-b35c-48fd-9072-11b399f04437","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"38cce5d0-b4e6-4312-bf8b-69a413093291","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"301fadd9-f555-477f-8a50-28b3bf706024","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"9fe49549-cfc1-4299-824d-8e3dbc9c33b5","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"feb7cde9-1f9b-4e12-ab10-57f6a2ecef80","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":false,"cost":2,"name":"Bash","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"0add998d-6571-4f08-b100-3629d9ad0b35","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":false,"cost":1,"name":"Pommel Strike","id":"Pommel Strike","type":"ATTACK","ethereal":false,"uuid":"8c310a44-43c0-4681-a8b5-b9d72d3dd09a","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":2,"name":"Dark Embrace","id":"Dark Embrace","type":"POWER","ethereal":false,"uuid":"61b3b58d-48f6-4319-ac41-cab6c7d88ee2","upgrades":0,"rarity":"UNCOMMON","has_target":false},{"exhausts":false,"is_playable":false,"cost":1,"name":"Headbutt","id":"Headbutt","type":"ATTACK","ethereal":false,"uuid":"3c93fe0d-657f-4618-ba86-745b6dd1ab50","upgrades":0,"rarity":"COMMON","has_target":true}],"relics":[{"name":"Burning Blood","id":"Burning Blood","counter":-1}],"max_hp":80,"act_boss":"Slime Boss","gold":136,"action_phase":"WAITING_ON_USER","act":1,"screen_name":"NONE","room_phase":"COMBAT","is_screen_up":false,"potions":[{"requires_target":true,"can_use":true,"can_discard":true,"name":"Fire Potion","id":"Fire Potion"},{"requires_target":false,"can_use":true,"can_discard":true,"name":"Liquid Bronze","id":"LiquidBronze"},{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"}],"current_hp":60,"floor":4,"ascension_level":0,"class":"IRONCLAD","map":[{"symbol":"M","children":[{"x":0,"y":1}],"x":0,"y":0,"parents":[]},{"symbol":"M","children":[{"x":2,"y":1}],"x":1,"y":0,"parents":[]},{"symbol":"M","children":[{"x":3,"y":1}],"x":3,"y":0,"parents":[]},{"symbol":"M","children":[{"x":4,"y":1}],"x":4,"y":0,"parents":[]},{"symbol":"M","children":[{"x":6,"y":1}],"x":6,"y":0,"parents":[]},{"symbol":"M","children":[{"x":1,"y":2}],"x":0,"y":1,"parents":[]},{"symbol":"M","children":[{"x":1,"y":2}],"x":2,"y":1,"parents":[]},{"symbol":"M","children":[{"x":2,"y":2},{"x":4,"y":2}],"x":3,"y":1,"parents":[]},{"symbol":"?","children":[{"x":5,"y":2}],"x":4,"y":1,"parents":[]},{"symbol":"M","children":[{"x":6,"y":2}],"x":6,"y":1,"parents":[]},{"symbol":"M","children":[{"x":2,"y":3}],"x":1,"y":2,"parents":[]},{"symbol":"M","children":[{"x":2,"y":3}],"x":2,"y":2,"parents":[]},{"symbol":"?","children":[{"x":4,"y":3}],"x":4,"y":2,"parents":[]},{"symbol":"?","children":[{"x":5,"y":3}],"x":5,"y":2,"parents":[]},{"symbol":"?","children":[{"x":6,"y":3}],"x":6,"y":2,"parents":[]},{"symbol":"M","children":[{"x":3,"y":4}],"x":2,"y":3,"parents":[]},{"symbol":"M","children":[{"x":3,"y":4}],"x":4,"y":3,"parents":[]},{"symbol":"M","children":[{"x":4,"y":4}],"x":5,"y":3,"parents":[]},{"symbol":"M","children":[{"x":5,"y":4}],"x":6,"y":3,"parents":[]},{"symbol":"?","children":[{"x":3,"y":5},{"x":4,"y":5}],"x":3,"y":4,"parents":[]},{"symbol":"M","children":[{"x":4,"y":5}],"x":4,"y":4,"parents":[]},{"symbol":"M","children":[{"x":5,"y":5}],"x":5,"y":4,"parents":[]},{"symbol":"E","children":[{"x":3,"y":6}],"x":3,"y":5,"parents":[]},{"symbol":"R","children":[{"x":3,"y":6},{"x":5,"y":6}],"x":4,"y":5,"parents":[]},{"symbol":"R","children":[{"x":5,"y":6}],"x":5,"y":5,"parents":[]},{"symbol":"M","children":[{"x":2,"y":7},{"x":3,"y":7},{"x":4,"y":7}],"x":3,"y":6,"parents":[]},{"symbol":"E","children":[{"x":6,"y":7}],"x":5,"y":6,"parents":[]},{"symbol":"E","children":[{"x":2,"y":8}],"x":2,"y":7,"parents":[]},{"symbol":"M","children":[{"x":2,"y":8}],"x":3,"y":7,"parents":[]},{"symbol":"$","children":[{"x":5,"y":8}],"x":4,"y":7,"parents":[]},{"symbol":"M","children":[{"x":5,"y":8}],"x":6,"y":7,"parents":[]},{"symbol":"T","children":[{"x":2,"y":9}],"x":2,"y":8,"parents":[]},{"symbol":"T","children":[{"x":5,"y":9},{"x":6,"y":9}],"x":5,"y":8,"parents":[]},{"symbol":"?","children":[{"x":2,"y":10},{"x":3,"y":10}],"x":2,"y":9,"parents":[]},{"symbol":"M","children":[{"x":4,"y":10},{"x":5,"y":10}],"x":5,"y":9,"parents":[]},{"symbol":"?","children":[{"x":5,"y":10}],"x":6,"y":9,"parents":[]},{"symbol":"E","children":[{"x":2,"y":11}],"x":2,"y":10,"parents":[]},{"symbol":"R","children":[{"x":4,"y":11}],"x":3,"y":10,"parents":[]},{"symbol":"?","children":[{"x":4,"y":11},{"x":5,"y":11}],"x":4,"y":10,"parents":[]},{"symbol":"$","children":[{"x":6,"y":11}],"x":5,"y":10,"parents":[]},{"symbol":"M","children":[{"x":1,"y":12}],"x":2,"y":11,"parents":[]},{"symbol":"M","children":[{"x":3,"y":12},{"x":5,"y":12}],"x":4,"y":11,"parents":[]},{"symbol":"?","children":[{"x":5,"y":12}],"x":5,"y":11,"parents":[]},{"symbol":"M","children":[{"x":5,"y":12},{"x":6,"y":12}],"x":6,"y":11,"parents":[]},{"symbol":"$","children":[{"x":1,"y":13}],"x":1,"y":12,"parents":[]},{"symbol":"R","children":[{"x":3,"y":13}],"x":3,"y":12,"parents":[]},{"symbol":"M","children":[{"x":4,"y":13},{"x":5,"y":13}],"x":5,"y":12,"parents":[]},{"symbol":"R","children":[{"x":6,"y":13}],"x":6,"y":12,"parents":[]},{"symbol":"?","children":[{"x":1,"y":14}],"x":1,"y":13,"parents":[]},{"symbol":"?","children":[{"x":3,"y":14}],"x":3,"y":13,"parents":[]},{"symbol":"M","children":[{"x":3,"y":14},{"x":5,"y":14}],"x":4,"y":13,"parents":[]},{"symbol":"M","children":[{"x":5,"y":14}],"x":5,"y":13,"parents":[]},{"symbol":"M","children":[{"x":6,"y":14}],"x":6,"y":13,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":1,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":3,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":5,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":6,"y":14,"parents":[]}],"room_type":"MonsterRoom"}}'
DEFENSE_MODE_STATE =  '{"available_commands":["play","end","key","click","wait","state"],"ready_for_command":true,"in_game":true,"game_state":{"screen_type":"NONE","screen_state":{},"seed":1394488993359254000,"combat_state":{"draw_pile":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"a81cf650-bab3-4493-96bf-b9422870c645","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"3bd0abea-3b97-450e-9398-4a2e5e59101c","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":false,"cost":2,"name":"Bash","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"100d2b03-6ade-4ac1-b35a-cba889fd9241","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"1363ef9c-010d-443d-820f-93390ee76057","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"82bc1e76-b45a-43ab-99cb-7447dccc9977","upgrades":0,"rarity":"BASIC","has_target":false}],"discard_pile":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"498faa5c-a751-47cb-8ac7-7bfbc861375e","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"fd591c43-fbd7-4efa-897f-184a6a11d587","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":0,"name":"Anger","id":"Anger","type":"ATTACK","ethereal":false,"uuid":"fb7e4e1c-4708-4190-83d1-0193c91f8553","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":0,"name":"Anger","id":"Anger","type":"ATTACK","ethereal":false,"uuid":"023a48b2-1076-4165-8016-6f2383c37ef9","upgrades":0,"rarity":"COMMON","has_target":true}],"exhaust_pile":[],"cards_discarded_this_turn":0,"times_damaged":0,"monsters":[{"is_gone":false,"move_hits":1,"move_base_damage":5,"half_dead":false,"move_adjusted_damage":12,"max_hp":13,"intent":"ATTACK","move_id":1,"name":"Spike Slime (S)","current_hp":30,"block":0,"id":"SpikeSlime_S","powers":[]},{"is_gone":false,"move_hits":1,"move_base_damage":-1,"half_dead":false,"move_adjusted_damage":-1,"max_hp":32,"intent":"DEBUFF","move_id":4,"name":"Acid Slime (M)","current_hp":32,"block":0,"id":"AcidSlime_M","powers":[]}],"turn":1,"limbo":[],"hand":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"44da5781-7908-4294-9fc5-d9d724d223e1","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"44da5781-7908-4294-9fc5-d9d724d223e1","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"90a0667d-ce52-4610-8e9b-3132c0781674","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"f24a2e13-648d-409c-ae47-e3b6a97dab84","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"44da5781-7908-4294-9fc5-d9d724d223e1","upgrades":0,"rarity":"BASIC","has_target":true}],"player":{"orbs":[],"current_hp":75,"block":0,"max_hp":80,"powers":[],"energy":1}},"deck":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"fd591c43-fbd7-4efa-897f-184a6a11d587","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"498faa5c-a751-47cb-8ac7-7bfbc861375e","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"3bd0abea-3b97-450e-9398-4a2e5e59101c","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"1363ef9c-010d-443d-820f-93390ee76057","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"a81cf650-bab3-4493-96bf-b9422870c645","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"90a0667d-ce52-4610-8e9b-3132c0781674","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"82bc1e76-b45a-43ab-99cb-7447dccc9977","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"f24a2e13-648d-409c-ae47-e3b6a97dab84","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":false,"cost":2,"name":"Bash","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"100d2b03-6ade-4ac1-b35a-cba889fd9241","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":0,"name":"Anger","id":"Anger","type":"ATTACK","ethereal":false,"uuid":"023a48b2-1076-4165-8016-6f2383c37ef9","upgrades":0,"rarity":"COMMON","has_target":true}],"relics":[{"name":"Burning Blood","id":"Burning Blood","counter":-1}],"max_hp":80,"act_boss":"Slime Boss","gold":114,"action_phase":"WAITING_ON_USER","act":1,"screen_name":"NONE","room_phase":"COMBAT","is_screen_up":false,"potions":[{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"},{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"},{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"}],"current_hp":75,"floor":2,"ascension_level":0,"class":"IRONCLAD","map":[{"symbol":"M","children":[{"x":1,"y":1}],"x":1,"y":0,"parents":[]},{"symbol":"M","children":[{"x":3,"y":1}],"x":3,"y":0,"parents":[]},{"symbol":"M","children":[{"x":4,"y":1}],"x":4,"y":0,"parents":[]},{"symbol":"M","children":[{"x":6,"y":1}],"x":5,"y":0,"parents":[]},{"symbol":"?","children":[{"x":0,"y":2}],"x":1,"y":1,"parents":[]},{"symbol":"M","children":[{"x":4,"y":2}],"x":3,"y":1,"parents":[]},{"symbol":"M","children":[{"x":4,"y":2}],"x":4,"y":1,"parents":[]},{"symbol":"M","children":[{"x":5,"y":2}],"x":6,"y":1,"parents":[]},{"symbol":"M","children":[{"x":0,"y":3}],"x":0,"y":2,"parents":[]},{"symbol":"$","children":[{"x":3,"y":3},{"x":5,"y":3}],"x":4,"y":2,"parents":[]},{"symbol":"M","children":[{"x":5,"y":3},{"x":6,"y":3}],"x":5,"y":2,"parents":[]},{"symbol":"M","children":[{"x":1,"y":4}],"x":0,"y":3,"parents":[]},{"symbol":"M","children":[{"x":2,"y":4}],"x":3,"y":3,"parents":[]},{"symbol":"?","children":[{"x":4,"y":4}],"x":5,"y":3,"parents":[]},{"symbol":"M","children":[{"x":6,"y":4}],"x":6,"y":3,"parents":[]},{"symbol":"M","children":[{"x":1,"y":5}],"x":1,"y":4,"parents":[]},{"symbol":"M","children":[{"x":3,"y":5}],"x":2,"y":4,"parents":[]},{"symbol":"M","children":[{"x":4,"y":5},{"x":5,"y":5}],"x":4,"y":4,"parents":[]},{"symbol":"M","children":[{"x":5,"y":5}],"x":6,"y":4,"parents":[]},{"symbol":"R","children":[{"x":1,"y":6}],"x":1,"y":5,"parents":[]},{"symbol":"M","children":[{"x":2,"y":6},{"x":4,"y":6}],"x":3,"y":5,"parents":[]},{"symbol":"$","children":[{"x":4,"y":6}],"x":4,"y":5,"parents":[]},{"symbol":"M","children":[{"x":4,"y":6},{"x":5,"y":6}],"x":5,"y":5,"parents":[]},{"symbol":"?","children":[{"x":2,"y":7}],"x":1,"y":6,"parents":[]},{"symbol":"?","children":[{"x":2,"y":7}],"x":2,"y":6,"parents":[]},{"symbol":"M","children":[{"x":3,"y":7},{"x":4,"y":7}],"x":4,"y":6,"parents":[]},{"symbol":"$","children":[{"x":5,"y":7}],"x":5,"y":6,"parents":[]},{"symbol":"E","children":[{"x":1,"y":8},{"x":3,"y":8}],"x":2,"y":7,"parents":[]},{"symbol":"E","children":[{"x":4,"y":8}],"x":3,"y":7,"parents":[]},{"symbol":"M","children":[{"x":5,"y":8}],"x":4,"y":7,"parents":[]},{"symbol":"E","children":[{"x":5,"y":8}],"x":5,"y":7,"parents":[]},{"symbol":"T","children":[{"x":1,"y":9}],"x":1,"y":8,"parents":[]},{"symbol":"T","children":[{"x":2,"y":9}],"x":3,"y":8,"parents":[]},{"symbol":"T","children":[{"x":4,"y":9}],"x":4,"y":8,"parents":[]},{"symbol":"T","children":[{"x":5,"y":9},{"x":6,"y":9}],"x":5,"y":8,"parents":[]},{"symbol":"R","children":[{"x":2,"y":10}],"x":1,"y":9,"parents":[]},{"symbol":"E","children":[{"x":3,"y":10}],"x":2,"y":9,"parents":[]},{"symbol":"?","children":[{"x":4,"y":10}],"x":4,"y":9,"parents":[]},{"symbol":"R","children":[{"x":4,"y":10}],"x":5,"y":9,"parents":[]},{"symbol":"M","children":[{"x":5,"y":10}],"x":6,"y":9,"parents":[]},{"symbol":"M","children":[{"x":1,"y":11}],"x":2,"y":10,"parents":[]},{"symbol":"R","children":[{"x":3,"y":11}],"x":3,"y":10,"parents":[]},{"symbol":"?","children":[{"x":3,"y":11}],"x":4,"y":10,"parents":[]},{"symbol":"R","children":[{"x":5,"y":11}],"x":5,"y":10,"parents":[]},{"symbol":"M","children":[{"x":2,"y":12}],"x":1,"y":11,"parents":[]},{"symbol":"M","children":[{"x":2,"y":12},{"x":3,"y":12}],"x":3,"y":11,"parents":[]},{"symbol":"?","children":[{"x":6,"y":12}],"x":5,"y":11,"parents":[]},{"symbol":"R","children":[{"x":1,"y":13},{"x":2,"y":13}],"x":2,"y":12,"parents":[]},{"symbol":"?","children":[{"x":4,"y":13}],"x":3,"y":12,"parents":[]},{"symbol":"R","children":[{"x":5,"y":13},{"x":6,"y":13}],"x":6,"y":12,"parents":[]},{"symbol":"?","children":[{"x":0,"y":14}],"x":1,"y":13,"parents":[]},{"symbol":"M","children":[{"x":2,"y":14}],"x":2,"y":13,"parents":[]},{"symbol":"?","children":[{"x":4,"y":14}],"x":4,"y":13,"parents":[]},{"symbol":"?","children":[{"x":5,"y":14}],"x":5,"y":13,"parents":[]},{"symbol":"M","children":[{"x":6,"y":14}],"x":6,"y":13,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":0,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":2,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":4,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":5,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":6,"y":14,"parents":[]}],"room_type":"MonsterRoom"}}'
NO_DEFENSE_BECAUSE_KILL_STATE =  '{"available_commands":["play","end","key","click","wait","state"],"ready_for_command":true,"in_game":true,"game_state":{"screen_type":"NONE","screen_state":{},"seed":1394488993359254000,"combat_state":{"draw_pile":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"a81cf650-bab3-4493-96bf-b9422870c645","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"3bd0abea-3b97-450e-9398-4a2e5e59101c","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":false,"cost":2,"name":"Bash","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"100d2b03-6ade-4ac1-b35a-cba889fd9241","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"1363ef9c-010d-443d-820f-93390ee76057","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"82bc1e76-b45a-43ab-99cb-7447dccc9977","upgrades":0,"rarity":"BASIC","has_target":false}],"discard_pile":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"498faa5c-a751-47cb-8ac7-7bfbc861375e","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"fd591c43-fbd7-4efa-897f-184a6a11d587","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":0,"name":"Anger","id":"Anger","type":"ATTACK","ethereal":false,"uuid":"fb7e4e1c-4708-4190-83d1-0193c91f8553","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":0,"name":"Anger","id":"Anger","type":"ATTACK","ethereal":false,"uuid":"023a48b2-1076-4165-8016-6f2383c37ef9","upgrades":0,"rarity":"COMMON","has_target":true}],"exhaust_pile":[],"cards_discarded_this_turn":0,"times_damaged":0,"monsters":[{"is_gone":false,"move_hits":1,"move_base_damage":5,"half_dead":false,"move_adjusted_damage":12,"max_hp":13,"intent":"ATTACK","move_id":1,"name":"Spike Slime (S)","current_hp":3,"block":0,"id":"SpikeSlime_S","powers":[]},{"is_gone":false,"move_hits":1,"move_base_damage":-1,"half_dead":false,"move_adjusted_damage":-1,"max_hp":32,"intent":"DEBUFF","move_id":4,"name":"Acid Slime (M)","current_hp":32,"block":0,"id":"AcidSlime_M","powers":[]}],"turn":1,"limbo":[],"hand":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"44da5781-7908-4294-9fc5-d9d724d223e1","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"44da5781-7908-4294-9fc5-d9d724d223e1","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"90a0667d-ce52-4610-8e9b-3132c0781674","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"f24a2e13-648d-409c-ae47-e3b6a97dab84","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"44da5781-7908-4294-9fc5-d9d724d223e1","upgrades":0,"rarity":"BASIC","has_target":true}],"player":{"orbs":[],"current_hp":75,"block":0,"max_hp":80,"powers":[],"energy":1}},"deck":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"fd591c43-fbd7-4efa-897f-184a6a11d587","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"498faa5c-a751-47cb-8ac7-7bfbc861375e","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"3bd0abea-3b97-450e-9398-4a2e5e59101c","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"1363ef9c-010d-443d-820f-93390ee76057","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"a81cf650-bab3-4493-96bf-b9422870c645","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"90a0667d-ce52-4610-8e9b-3132c0781674","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"82bc1e76-b45a-43ab-99cb-7447dccc9977","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"f24a2e13-648d-409c-ae47-e3b6a97dab84","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":false,"cost":2,"name":"Bash","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"100d2b03-6ade-4ac1-b35a-cba889fd9241","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":0,"name":"Anger","id":"Anger","type":"ATTACK","ethereal":false,"uuid":"023a48b2-1076-4165-8016-6f2383c37ef9","upgrades":0,"rarity":"COMMON","has_target":true}],"relics":[{"name":"Burning Blood","id":"Burning Blood","counter":-1}],"max_hp":80,"act_boss":"Slime Boss","gold":114,"action_phase":"WAITING_ON_USER","act":1,"screen_name":"NONE","room_phase":"COMBAT","is_screen_up":false,"potions":[{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"},{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"},{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"}],"current_hp":75,"floor":2,"ascension_level":0,"class":"IRONCLAD","map":[{"symbol":"M","children":[{"x":1,"y":1}],"x":1,"y":0,"parents":[]},{"symbol":"M","children":[{"x":3,"y":1}],"x":3,"y":0,"parents":[]},{"symbol":"M","children":[{"x":4,"y":1}],"x":4,"y":0,"parents":[]},{"symbol":"M","children":[{"x":6,"y":1}],"x":5,"y":0,"parents":[]},{"symbol":"?","children":[{"x":0,"y":2}],"x":1,"y":1,"parents":[]},{"symbol":"M","children":[{"x":4,"y":2}],"x":3,"y":1,"parents":[]},{"symbol":"M","children":[{"x":4,"y":2}],"x":4,"y":1,"parents":[]},{"symbol":"M","children":[{"x":5,"y":2}],"x":6,"y":1,"parents":[]},{"symbol":"M","children":[{"x":0,"y":3}],"x":0,"y":2,"parents":[]},{"symbol":"$","children":[{"x":3,"y":3},{"x":5,"y":3}],"x":4,"y":2,"parents":[]},{"symbol":"M","children":[{"x":5,"y":3},{"x":6,"y":3}],"x":5,"y":2,"parents":[]},{"symbol":"M","children":[{"x":1,"y":4}],"x":0,"y":3,"parents":[]},{"symbol":"M","children":[{"x":2,"y":4}],"x":3,"y":3,"parents":[]},{"symbol":"?","children":[{"x":4,"y":4}],"x":5,"y":3,"parents":[]},{"symbol":"M","children":[{"x":6,"y":4}],"x":6,"y":3,"parents":[]},{"symbol":"M","children":[{"x":1,"y":5}],"x":1,"y":4,"parents":[]},{"symbol":"M","children":[{"x":3,"y":5}],"x":2,"y":4,"parents":[]},{"symbol":"M","children":[{"x":4,"y":5},{"x":5,"y":5}],"x":4,"y":4,"parents":[]},{"symbol":"M","children":[{"x":5,"y":5}],"x":6,"y":4,"parents":[]},{"symbol":"R","children":[{"x":1,"y":6}],"x":1,"y":5,"parents":[]},{"symbol":"M","children":[{"x":2,"y":6},{"x":4,"y":6}],"x":3,"y":5,"parents":[]},{"symbol":"$","children":[{"x":4,"y":6}],"x":4,"y":5,"parents":[]},{"symbol":"M","children":[{"x":4,"y":6},{"x":5,"y":6}],"x":5,"y":5,"parents":[]},{"symbol":"?","children":[{"x":2,"y":7}],"x":1,"y":6,"parents":[]},{"symbol":"?","children":[{"x":2,"y":7}],"x":2,"y":6,"parents":[]},{"symbol":"M","children":[{"x":3,"y":7},{"x":4,"y":7}],"x":4,"y":6,"parents":[]},{"symbol":"$","children":[{"x":5,"y":7}],"x":5,"y":6,"parents":[]},{"symbol":"E","children":[{"x":1,"y":8},{"x":3,"y":8}],"x":2,"y":7,"parents":[]},{"symbol":"E","children":[{"x":4,"y":8}],"x":3,"y":7,"parents":[]},{"symbol":"M","children":[{"x":5,"y":8}],"x":4,"y":7,"parents":[]},{"symbol":"E","children":[{"x":5,"y":8}],"x":5,"y":7,"parents":[]},{"symbol":"T","children":[{"x":1,"y":9}],"x":1,"y":8,"parents":[]},{"symbol":"T","children":[{"x":2,"y":9}],"x":3,"y":8,"parents":[]},{"symbol":"T","children":[{"x":4,"y":9}],"x":4,"y":8,"parents":[]},{"symbol":"T","children":[{"x":5,"y":9},{"x":6,"y":9}],"x":5,"y":8,"parents":[]},{"symbol":"R","children":[{"x":2,"y":10}],"x":1,"y":9,"parents":[]},{"symbol":"E","children":[{"x":3,"y":10}],"x":2,"y":9,"parents":[]},{"symbol":"?","children":[{"x":4,"y":10}],"x":4,"y":9,"parents":[]},{"symbol":"R","children":[{"x":4,"y":10}],"x":5,"y":9,"parents":[]},{"symbol":"M","children":[{"x":5,"y":10}],"x":6,"y":9,"parents":[]},{"symbol":"M","children":[{"x":1,"y":11}],"x":2,"y":10,"parents":[]},{"symbol":"R","children":[{"x":3,"y":11}],"x":3,"y":10,"parents":[]},{"symbol":"?","children":[{"x":3,"y":11}],"x":4,"y":10,"parents":[]},{"symbol":"R","children":[{"x":5,"y":11}],"x":5,"y":10,"parents":[]},{"symbol":"M","children":[{"x":2,"y":12}],"x":1,"y":11,"parents":[]},{"symbol":"M","children":[{"x":2,"y":12},{"x":3,"y":12}],"x":3,"y":11,"parents":[]},{"symbol":"?","children":[{"x":6,"y":12}],"x":5,"y":11,"parents":[]},{"symbol":"R","children":[{"x":1,"y":13},{"x":2,"y":13}],"x":2,"y":12,"parents":[]},{"symbol":"?","children":[{"x":4,"y":13}],"x":3,"y":12,"parents":[]},{"symbol":"R","children":[{"x":5,"y":13},{"x":6,"y":13}],"x":6,"y":12,"parents":[]},{"symbol":"?","children":[{"x":0,"y":14}],"x":1,"y":13,"parents":[]},{"symbol":"M","children":[{"x":2,"y":14}],"x":2,"y":13,"parents":[]},{"symbol":"?","children":[{"x":4,"y":14}],"x":4,"y":13,"parents":[]},{"symbol":"?","children":[{"x":5,"y":14}],"x":5,"y":13,"parents":[]},{"symbol":"M","children":[{"x":6,"y":14}],"x":6,"y":13,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":0,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":2,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":4,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":5,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":6,"y":14,"parents":[]}],"room_type":"MonsterRoom"}}'
KILL_STATE_LAGAVULIN = '{"available_commands":["play","end","potion","key","click","wait","state"],"ready_for_command":true,"in_game":true,"game_state":{"screen_type":"NONE","screen_state":{},"seed":7230305506610474000,"combat_state":{"draw_pile":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"0c9b8bc5-90ee-4997-aeb1-15cbbf079e3c","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"739ae5df-b3c9-4f61-b9f5-4c80e2689f84","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"0a676b4b-918f-4de0-8137-0d8c4aa62dd1","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"74b77a85-36d3-478a-a8a0-59b5c3216f52","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"941a0444-c5e8-4f0c-afb4-a438a4339be0","upgrades":0,"rarity":"BASIC","has_target":false}],"discard_pile":[],"exhaust_pile":[{"exhausts":true,"is_playable":true,"cost":2,"name":"Shockwave","id":"Shockwave","type":"SKILL","ethereal":false,"uuid":"d6e0563d-e515-4e02-8835-ead4d9e84fb4","upgrades":0,"rarity":"UNCOMMON","has_target":false}],"cards_discarded_this_turn":0,"times_damaged":5,"monsters":[{"is_gone":false,"move_hits":1,"move_base_damage":18,"last_move_id":3,"half_dead":false,"move_adjusted_damage":18,"max_hp":110,"intent":"ATTACK","second_last_move_id":1,"move_id":3,"name":"Lagavulin","current_hp":10,"block":0,"id":"Lagavulin","powers":[{"amount":4,"just_applied":false,"name":"Vulnerable","id":"Vulnerable"}]}],"turn":9,"limbo":[],"hand":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"a35aae2d-fcec-4ee9-a177-8a012373b45f","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"714bd698-297b-4892-8e84-1d465ae78cad","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":2,"name":"Bash+","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"0e6e0efa-f724-48a5-8bcc-09dad3ec6202","upgrades":1,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"e697f800-25f4-459c-a31d-5267ca1f4551","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"5e7a1b91-46d8-47a1-a79f-4fe89f69c8d7","upgrades":0,"rarity":"BASIC","has_target":true}],"player":{"orbs":[],"current_hp":10,"block":0,"max_hp":80,"powers":[{"amount":-2,"name":"Dexterity","id":"Dexterity"},{"amount":-2,"name":"Strength","id":"Strength"}],"energy":3}},"deck":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"5e7a1b91-46d8-47a1-a79f-4fe89f69c8d7","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"739ae5df-b3c9-4f61-b9f5-4c80e2689f84","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"0c9b8bc5-90ee-4997-aeb1-15cbbf079e3c","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"a35aae2d-fcec-4ee9-a177-8a012373b45f","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"0a676b4b-918f-4de0-8137-0d8c4aa62dd1","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"941a0444-c5e8-4f0c-afb4-a438a4339be0","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"714bd698-297b-4892-8e84-1d465ae78cad","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"74b77a85-36d3-478a-a8a0-59b5c3216f52","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"e697f800-25f4-459c-a31d-5267ca1f4551","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":2,"name":"Bash+","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"0e6e0efa-f724-48a5-8bcc-09dad3ec6202","upgrades":1,"rarity":"BASIC","has_target":true},{"exhausts":true,"is_playable":true,"cost":2,"name":"Shockwave","id":"Shockwave","type":"SKILL","ethereal":false,"uuid":"d6e0563d-e515-4e02-8835-ead4d9e84fb4","upgrades":0,"rarity":"UNCOMMON","has_target":false}],"relics":[{"name":"Burning Blood","id":"Burning Blood","counter":-1}],"max_hp":80,"act_boss":"Slime Boss","gold":163,"action_phase":"WAITING_ON_USER","act":1,"screen_name":"NONE","room_phase":"COMBAT","is_screen_up":false,"potions":[{"requires_target":true,"can_use":true,"can_discard":true,"name":"Fire Potion","id":"Fire Potion"},{"requires_target":false,"can_use":true,"can_discard":true,"name":"Liquid Bronze","id":"LiquidBronze"},{"requires_target":false,"can_use":false,"can_discard":false,"name":"Potion Slot","id":"Potion Slot"}],"current_hp":10,"floor":6,"ascension_level":0,"class":"IRONCLAD","map":[{"symbol":"M","children":[{"x":0,"y":1}],"x":0,"y":0,"parents":[]},{"symbol":"M","children":[{"x":2,"y":1}],"x":1,"y":0,"parents":[]},{"symbol":"M","children":[{"x":3,"y":1}],"x":3,"y":0,"parents":[]},{"symbol":"M","children":[{"x":4,"y":1}],"x":4,"y":0,"parents":[]},{"symbol":"M","children":[{"x":6,"y":1}],"x":6,"y":0,"parents":[]},{"symbol":"M","children":[{"x":1,"y":2}],"x":0,"y":1,"parents":[]},{"symbol":"M","children":[{"x":1,"y":2}],"x":2,"y":1,"parents":[]},{"symbol":"M","children":[{"x":2,"y":2},{"x":4,"y":2}],"x":3,"y":1,"parents":[]},{"symbol":"?","children":[{"x":5,"y":2}],"x":4,"y":1,"parents":[]},{"symbol":"M","children":[{"x":6,"y":2}],"x":6,"y":1,"parents":[]},{"symbol":"M","children":[{"x":2,"y":3}],"x":1,"y":2,"parents":[]},{"symbol":"M","children":[{"x":2,"y":3}],"x":2,"y":2,"parents":[]},{"symbol":"?","children":[{"x":4,"y":3}],"x":4,"y":2,"parents":[]},{"symbol":"?","children":[{"x":5,"y":3}],"x":5,"y":2,"parents":[]},{"symbol":"?","children":[{"x":6,"y":3}],"x":6,"y":2,"parents":[]},{"symbol":"M","children":[{"x":3,"y":4}],"x":2,"y":3,"parents":[]},{"symbol":"M","children":[{"x":3,"y":4}],"x":4,"y":3,"parents":[]},{"symbol":"M","children":[{"x":4,"y":4}],"x":5,"y":3,"parents":[]},{"symbol":"M","children":[{"x":5,"y":4}],"x":6,"y":3,"parents":[]},{"symbol":"?","children":[{"x":3,"y":5},{"x":4,"y":5}],"x":3,"y":4,"parents":[]},{"symbol":"M","children":[{"x":4,"y":5}],"x":4,"y":4,"parents":[]},{"symbol":"M","children":[{"x":5,"y":5}],"x":5,"y":4,"parents":[]},{"symbol":"E","children":[{"x":3,"y":6}],"x":3,"y":5,"parents":[]},{"symbol":"R","children":[{"x":3,"y":6},{"x":5,"y":6}],"x":4,"y":5,"parents":[]},{"symbol":"R","children":[{"x":5,"y":6}],"x":5,"y":5,"parents":[]},{"symbol":"M","children":[{"x":2,"y":7},{"x":3,"y":7},{"x":4,"y":7}],"x":3,"y":6,"parents":[]},{"symbol":"E","children":[{"x":6,"y":7}],"x":5,"y":6,"parents":[]},{"symbol":"E","children":[{"x":2,"y":8}],"x":2,"y":7,"parents":[]},{"symbol":"M","children":[{"x":2,"y":8}],"x":3,"y":7,"parents":[]},{"symbol":"$","children":[{"x":5,"y":8}],"x":4,"y":7,"parents":[]},{"symbol":"M","children":[{"x":5,"y":8}],"x":6,"y":7,"parents":[]},{"symbol":"T","children":[{"x":2,"y":9}],"x":2,"y":8,"parents":[]},{"symbol":"T","children":[{"x":5,"y":9},{"x":6,"y":9}],"x":5,"y":8,"parents":[]},{"symbol":"?","children":[{"x":2,"y":10},{"x":3,"y":10}],"x":2,"y":9,"parents":[]},{"symbol":"M","children":[{"x":4,"y":10},{"x":5,"y":10}],"x":5,"y":9,"parents":[]},{"symbol":"?","children":[{"x":5,"y":10}],"x":6,"y":9,"parents":[]},{"symbol":"E","children":[{"x":2,"y":11}],"x":2,"y":10,"parents":[]},{"symbol":"R","children":[{"x":4,"y":11}],"x":3,"y":10,"parents":[]},{"symbol":"?","children":[{"x":4,"y":11},{"x":5,"y":11}],"x":4,"y":10,"parents":[]},{"symbol":"$","children":[{"x":6,"y":11}],"x":5,"y":10,"parents":[]},{"symbol":"M","children":[{"x":1,"y":12}],"x":2,"y":11,"parents":[]},{"symbol":"M","children":[{"x":3,"y":12},{"x":5,"y":12}],"x":4,"y":11,"parents":[]},{"symbol":"?","children":[{"x":5,"y":12}],"x":5,"y":11,"parents":[]},{"symbol":"M","children":[{"x":5,"y":12},{"x":6,"y":12}],"x":6,"y":11,"parents":[]},{"symbol":"$","children":[{"x":1,"y":13}],"x":1,"y":12,"parents":[]},{"symbol":"R","children":[{"x":3,"y":13}],"x":3,"y":12,"parents":[]},{"symbol":"M","children":[{"x":4,"y":13},{"x":5,"y":13}],"x":5,"y":12,"parents":[]},{"symbol":"R","children":[{"x":6,"y":13}],"x":6,"y":12,"parents":[]},{"symbol":"?","children":[{"x":1,"y":14}],"x":1,"y":13,"parents":[]},{"symbol":"?","children":[{"x":3,"y":14}],"x":3,"y":13,"parents":[]},{"symbol":"M","children":[{"x":3,"y":14},{"x":5,"y":14}],"x":4,"y":13,"parents":[]},{"symbol":"M","children":[{"x":5,"y":14}],"x":5,"y":13,"parents":[]},{"symbol":"M","children":[{"x":6,"y":14}],"x":6,"y":13,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":1,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":3,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":5,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":6,"y":14,"parents":[]}],"room_type":"MonsterRoomElite"}}'
UNPLAYABLE_CLASH = '{"available_commands":["play","end","potion","key","click","wait","state"],"ready_for_command":true,"in_game":true,"game_state":{"screen_type":"NONE","screen_state":{},"seed":2283446537348531365,"combat_state":{"draw_pile":[{"exhausts":false,"is_playable":true,"cost":2,"name":"Perfected Strike","id":"Perfected Strike","type":"ATTACK","ethereal":false,"uuid":"a4c6dbf1-d577-4d39-adc2-8c2069a1b3c1","upgrades":0,"rarity":"COMMON","has_target":true}],"discard_pile":[{"exhausts":false,"is_playable":true,"cost":0,"name":"Battle Trance","id":"Battle Trance","type":"SKILL","ethereal":false,"uuid":"9c432c21-c31b-4af0-b6a7-cccf911e421a","upgrades":0,"rarity":"UNCOMMON","has_target":false},{"exhausts":false,"is_playable":true,"cost":2,"name":"Bash","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"ae8fe8cf-1cb5-4221-a4d3-0e5c57a2ebb2","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Thunderclap","id":"Thunderclap","type":"ATTACK","ethereal":false,"uuid":"675a68dc-7059-4fac-9b03-ea1d6676e333","upgrades":0,"rarity":"COMMON","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"04a4070e-74ca-46e7-93c3-5d499994d4ec","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"6ee486a6-9b4c-4988-8d0f-a56bb30c7c03","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"8a4c0656-682c-43e5-8dd9-7b9f33d2577c","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"1325acfc-8e5a-488c-9adb-a8f6c07b347c","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"fc9a840d-dde2-47bb-9984-172d42dc10a4","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Twin Strike","id":"Twin Strike","type":"ATTACK","ethereal":false,"uuid":"95cd2edd-c141-424b-9dd2-8fb26777f4fc","upgrades":0,"rarity":"COMMON","has_target":true}],"exhaust_pile":[],"cards_discarded_this_turn":0,"times_damaged":1,"monsters":[{"is_gone":false,"move_hits":1,"move_base_damage":-1,"last_move_id":2,"half_dead":false,"move_adjusted_damage":-1,"max_hp":29,"intent":"DEBUFF","move_id":4,"name":"Acid Slime (M)","current_hp":1,"block":0,"id":"AcidSlime_M","powers":[{"amount":2,"just_applied":false,"name":"Vulnerable","id":"Vulnerable"}]},{"is_gone":false,"move_hits":1,"move_base_damage":6,"last_move_id":3,"half_dead":false,"move_adjusted_damage":6,"max_hp":51,"intent":"ATTACK","move_id":1,"name":"Cultist","current_hp":47,"block":0,"id":"Cultist","powers":[{"amount":3,"just_applied":false,"name":"Ritual","id":"Ritual"}]}],"turn":2,"limbo":[],"hand":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"28b80e3e-d8b8-47ae-bdc2-cea6f64c664d","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"efbc5eea-0293-4a4b-afae-4daefcbf2010","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":false,"cost":0,"name":"Clash","id":"Clash","type":"ATTACK","ethereal":false,"uuid":"7f80fcf7-2176-4224-b7a1-0c83d4876a4f","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":0,"name":"Flex","id":"Flex","type":"SKILL","ethereal":false,"uuid":"012692d4-b1ac-458a-9b9e-c3725b1247b3","upgrades":0,"rarity":"COMMON","has_target":false}],"player":{"orbs":[],"current_hp":53,"block":0,"max_hp":80,"powers":[],"energy":2}},"deck":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"efbc5eea-0293-4a4b-afae-4daefcbf2010","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"28b80e3e-d8b8-47ae-bdc2-cea6f64c664d","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"fc9a840d-dde2-47bb-9984-172d42dc10a4","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"04a4070e-74ca-46e7-93c3-5d499994d4ec","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"8a4c0656-682c-43e5-8dd9-7b9f33d2577c","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"1325acfc-8e5a-488c-9adb-a8f6c07b347c","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"6ee486a6-9b4c-4988-8d0f-a56bb30c7c03","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":2,"name":"Bash","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"ae8fe8cf-1cb5-4221-a4d3-0e5c57a2ebb2","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":0,"name":"Flex","id":"Flex","type":"SKILL","ethereal":false,"uuid":"012692d4-b1ac-458a-9b9e-c3725b1247b3","upgrades":0,"rarity":"COMMON","has_target":false},{"exhausts":false,"is_playable":true,"cost":0,"name":"Battle Trance","id":"Battle Trance","type":"SKILL","ethereal":false,"uuid":"9c432c21-c31b-4af0-b6a7-cccf911e421a","upgrades":0,"rarity":"UNCOMMON","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Thunderclap","id":"Thunderclap","type":"ATTACK","ethereal":false,"uuid":"675a68dc-7059-4fac-9b03-ea1d6676e333","upgrades":0,"rarity":"COMMON","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Twin Strike","id":"Twin Strike","type":"ATTACK","ethereal":false,"uuid":"95cd2edd-c141-424b-9dd2-8fb26777f4fc","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":2,"name":"Perfected Strike","id":"Perfected Strike","type":"ATTACK","ethereal":false,"uuid":"a4c6dbf1-d577-4d39-adc2-8c2069a1b3c1","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":false,"cost":0,"name":"Clash","id":"Clash","type":"ATTACK","ethereal":false,"uuid":"7f80fcf7-2176-4224-b7a1-0c83d4876a4f","upgrades":0,"rarity":"COMMON","has_target":true}],"relics":[{"name":"Burning Blood","id":"Burning Blood","counter":-1},{"name":"Bottled Lightning","id":"Bottled Lightning","counter":-1}],"max_hp":80,"act_boss":"Hexaghost","gold":187,"action_phase":"WAITING_ON_USER","act":1,"screen_name":"NONE","room_phase":"COMBAT","is_screen_up":false,"potions":[{"requires_target":true,"can_use":true,"can_discard":true,"name":"Fear Potion","id":"FearPotion"},{"requires_target":false,"can_use":true,"can_discard":true,"name":"Attack Potion","id":"AttackPotion"},{"requires_target":false,"can_use":true,"can_discard":true,"name":"Entropic Brew","id":"EntropicBrew"}],"current_hp":53,"floor":11,"ascension_level":0,"class":"IRONCLAD","map":[{"symbol":"M","children":[{"x":1,"y":1}],"x":0,"y":0,"parents":[]},{"symbol":"M","children":[{"x":3,"y":1},{"x":5,"y":1}],"x":4,"y":0,"parents":[]},{"symbol":"M","children":[{"x":2,"y":2}],"x":1,"y":1,"parents":[]},{"symbol":"M","children":[{"x":3,"y":2}],"x":3,"y":1,"parents":[]},{"symbol":"?","children":[{"x":4,"y":2},{"x":6,"y":2}],"x":5,"y":1,"parents":[]},{"symbol":"M","children":[{"x":2,"y":3},{"x":3,"y":3}],"x":2,"y":2,"parents":[]},{"symbol":"M","children":[{"x":3,"y":3}],"x":3,"y":2,"parents":[]},{"symbol":"M","children":[{"x":3,"y":3},{"x":4,"y":3}],"x":4,"y":2,"parents":[]},{"symbol":"?","children":[{"x":5,"y":3}],"x":6,"y":2,"parents":[]},{"symbol":"$","children":[{"x":3,"y":4}],"x":2,"y":3,"parents":[]},{"symbol":"?","children":[{"x":3,"y":4},{"x":4,"y":4}],"x":3,"y":3,"parents":[]},{"symbol":"M","children":[{"x":5,"y":4}],"x":4,"y":3,"parents":[]},{"symbol":"?","children":[{"x":5,"y":4}],"x":5,"y":3,"parents":[]},{"symbol":"M","children":[{"x":2,"y":5}],"x":3,"y":4,"parents":[]},{"symbol":"?","children":[{"x":3,"y":5},{"x":4,"y":5}],"x":4,"y":4,"parents":[]},{"symbol":"M","children":[{"x":4,"y":5},{"x":6,"y":5}],"x":5,"y":4,"parents":[]},{"symbol":"R","children":[{"x":1,"y":6},{"x":2,"y":6}],"x":2,"y":5,"parents":[]},{"symbol":"R","children":[{"x":2,"y":6}],"x":3,"y":5,"parents":[]},{"symbol":"M","children":[{"x":3,"y":6},{"x":4,"y":6}],"x":4,"y":5,"parents":[]},{"symbol":"R","children":[{"x":5,"y":6}],"x":6,"y":5,"parents":[]},{"symbol":"M","children":[{"x":1,"y":7}],"x":1,"y":6,"parents":[]},{"symbol":"?","children":[{"x":3,"y":7}],"x":2,"y":6,"parents":[]},{"symbol":"E","children":[{"x":3,"y":7}],"x":3,"y":6,"parents":[]},{"symbol":"M","children":[{"x":5,"y":7}],"x":4,"y":6,"parents":[]},{"symbol":"?","children":[{"x":5,"y":7}],"x":5,"y":6,"parents":[]},{"symbol":"M","children":[{"x":2,"y":8}],"x":1,"y":7,"parents":[]},{"symbol":"M","children":[{"x":2,"y":8},{"x":4,"y":8}],"x":3,"y":7,"parents":[]},{"symbol":"E","children":[{"x":5,"y":8},{"x":6,"y":8}],"x":5,"y":7,"parents":[]},{"symbol":"T","children":[{"x":1,"y":9},{"x":3,"y":9}],"x":2,"y":8,"parents":[]},{"symbol":"T","children":[{"x":5,"y":9}],"x":4,"y":8,"parents":[]},{"symbol":"T","children":[{"x":5,"y":9}],"x":5,"y":8,"parents":[]},{"symbol":"T","children":[{"x":6,"y":9}],"x":6,"y":8,"parents":[]},{"symbol":"?","children":[{"x":2,"y":10}],"x":1,"y":9,"parents":[]},{"symbol":"R","children":[{"x":3,"y":10},{"x":4,"y":10}],"x":3,"y":9,"parents":[]},{"symbol":"?","children":[{"x":4,"y":10}],"x":5,"y":9,"parents":[]},{"symbol":"$","children":[{"x":5,"y":10}],"x":6,"y":9,"parents":[]},{"symbol":"M","children":[{"x":3,"y":11}],"x":2,"y":10,"parents":[]},{"symbol":"?","children":[{"x":3,"y":11}],"x":3,"y":10,"parents":[]},{"symbol":"M","children":[{"x":5,"y":11}],"x":4,"y":10,"parents":[]},{"symbol":"M","children":[{"x":6,"y":11}],"x":5,"y":10,"parents":[]},{"symbol":"M","children":[{"x":3,"y":12},{"x":4,"y":12}],"x":3,"y":11,"parents":[]},{"symbol":"R","children":[{"x":4,"y":12},{"x":6,"y":12}],"x":5,"y":11,"parents":[]},{"symbol":"R","children":[{"x":6,"y":12}],"x":6,"y":11,"parents":[]},{"symbol":"E","children":[{"x":3,"y":13}],"x":3,"y":12,"parents":[]},{"symbol":"M","children":[{"x":4,"y":13},{"x":5,"y":13}],"x":4,"y":12,"parents":[]},{"symbol":"E","children":[{"x":5,"y":13},{"x":6,"y":13}],"x":6,"y":12,"parents":[]},{"symbol":"M","children":[{"x":4,"y":14}],"x":3,"y":13,"parents":[]},{"symbol":"?","children":[{"x":4,"y":14}],"x":4,"y":13,"parents":[]},{"symbol":"M","children":[{"x":4,"y":14},{"x":5,"y":14}],"x":5,"y":13,"parents":[]},{"symbol":"M","children":[{"x":5,"y":14},{"x":6,"y":14}],"x":6,"y":13,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":4,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":5,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":6,"y":14,"parents":[]}],"room_type":"MonsterRoom"}}'
BIG_MULTI_FROM_HEXA = '{"available_commands":["play","end","potion","key","click","wait","state"],"ready_for_command":true,"in_game":true,"game_state":{"screen_type":"NONE","screen_state":{},"seed":2283446537348531365,"combat_state":{"draw_pile":[{"exhausts":true,"is_playable":true,"cost":2,"name":"Shockwave","id":"Shockwave","type":"SKILL","ethereal":false,"uuid":"5f1c5138-1f8b-4858-ab81-67db0efbfb77","upgrades":0,"rarity":"UNCOMMON","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Pommel Strike","id":"Pommel Strike","type":"ATTACK","ethereal":false,"uuid":"579d2f25-4c85-44b6-8f00-524f033234f6","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Thunderclap","id":"Thunderclap","type":"ATTACK","ethereal":false,"uuid":"9ae61715-47d5-4f92-8141-c3d3210b8d1e","upgrades":0,"rarity":"COMMON","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"100be96c-1d17-4c34-a838-35722752efd2","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Twin Strike","id":"Twin Strike","type":"ATTACK","ethereal":false,"uuid":"b5d856bd-5e5e-47f1-8986-cfdb0bfa4ff9","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"68e16a6c-9ac9-4294-82f8-8ccd8b5aaad3","upgrades":0,"rarity":"BASIC","has_target":true}],"discard_pile":[{"exhausts":false,"is_playable":true,"cost":2,"name":"Perfected Strike","id":"Perfected Strike","type":"ATTACK","ethereal":false,"uuid":"0e65b66a-b88b-41dc-9f11-6864e7ac40d1","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":2,"name":"Bash","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"3843ef03-f26e-47d3-8899-b970b5bd7b40","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"99ceafe1-2334-4f52-aace-c35d403e93c9","upgrades":0,"rarity":"BASIC","has_target":true}],"exhaust_pile":[{"exhausts":true,"is_playable":true,"cost":2,"name":"Shockwave","id":"Shockwave","type":"SKILL","ethereal":false,"uuid":"438c3fc4-b578-43b3-bf14-4eab70d26af2","upgrades":0,"rarity":"UNCOMMON","has_target":false},{"exhausts":true,"is_playable":true,"cost":1,"name":"Pummel","id":"Pummel","type":"ATTACK","ethereal":false,"uuid":"1f6d9c75-9170-4370-b51c-c6f4731da2d1","upgrades":0,"rarity":"UNCOMMON","has_target":true}],"cards_discarded_this_turn":0,"times_damaged":0,"monsters":[{"is_gone":false,"move_hits":6,"move_base_damage":4,"last_move_id":5,"half_dead":false,"move_adjusted_damage":3,"max_hp":250,"intent":"ATTACK","move_id":1,"name":"Hexaghost","current_hp":238,"block":0,"id":"Hexaghost","powers":[{"amount":2,"just_applied":false,"name":"Vulnerable","id":"Vulnerable"},{"amount":2,"just_applied":false,"name":"Weakened","id":"Weakened"}]}],"turn":2,"limbo":[],"hand":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"78cda420-db03-4703-a75e-a883d5133a6d","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Pommel Strike","id":"Pommel Strike","type":"ATTACK","ethereal":false,"uuid":"9f674bad-17e7-4680-8775-ef66ec878c68","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"87b33794-5242-4429-bfa1-b1298203d801","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"47a0b7a0-0ab9-4d69-ba05-eeb065385094","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"5dc08abe-4ab1-4d03-8099-d4442acf979c","upgrades":0,"rarity":"BASIC","has_target":false}],"player":{"orbs":[],"current_hp":47,"block":0,"max_hp":80,"powers":[],"energy":3}},"deck":[{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"47a0b7a0-0ab9-4d69-ba05-eeb065385094","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"78cda420-db03-4703-a75e-a883d5133a6d","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"68e16a6c-9ac9-4294-82f8-8ccd8b5aaad3","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"100be96c-1d17-4c34-a838-35722752efd2","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Strike","id":"Strike_R","type":"ATTACK","ethereal":false,"uuid":"99ceafe1-2334-4f52-aace-c35d403e93c9","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"87b33794-5242-4429-bfa1-b1298203d801","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":1,"name":"Defend","id":"Defend_R","type":"SKILL","ethereal":false,"uuid":"5dc08abe-4ab1-4d03-8099-d4442acf979c","upgrades":0,"rarity":"BASIC","has_target":false},{"exhausts":false,"is_playable":true,"cost":2,"name":"Bash","id":"Bash","type":"ATTACK","ethereal":false,"uuid":"3843ef03-f26e-47d3-8899-b970b5bd7b40","upgrades":0,"rarity":"BASIC","has_target":true},{"exhausts":true,"is_playable":true,"cost":1,"name":"Pummel","id":"Pummel","type":"ATTACK","ethereal":false,"uuid":"1f6d9c75-9170-4370-b51c-c6f4731da2d1","upgrades":0,"rarity":"UNCOMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Thunderclap","id":"Thunderclap","type":"ATTACK","ethereal":false,"uuid":"9ae61715-47d5-4f92-8141-c3d3210b8d1e","upgrades":0,"rarity":"COMMON","has_target":false},{"exhausts":true,"is_playable":true,"cost":2,"name":"Shockwave","id":"Shockwave","type":"SKILL","ethereal":false,"uuid":"438c3fc4-b578-43b3-bf14-4eab70d26af2","upgrades":0,"rarity":"UNCOMMON","has_target":false},{"exhausts":false,"is_playable":true,"cost":2,"name":"Perfected Strike","id":"Perfected Strike","type":"ATTACK","ethereal":false,"uuid":"0e65b66a-b88b-41dc-9f11-6864e7ac40d1","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Pommel Strike","id":"Pommel Strike","type":"ATTACK","ethereal":false,"uuid":"9f674bad-17e7-4680-8775-ef66ec878c68","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Pommel Strike","id":"Pommel Strike","type":"ATTACK","ethereal":false,"uuid":"579d2f25-4c85-44b6-8f00-524f033234f6","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":false,"is_playable":true,"cost":1,"name":"Twin Strike","id":"Twin Strike","type":"ATTACK","ethereal":false,"uuid":"b5d856bd-5e5e-47f1-8986-cfdb0bfa4ff9","upgrades":0,"rarity":"COMMON","has_target":true},{"exhausts":true,"is_playable":true,"cost":2,"name":"Shockwave","id":"Shockwave","type":"SKILL","ethereal":false,"uuid":"5f1c5138-1f8b-4858-ab81-67db0efbfb77","upgrades":0,"rarity":"UNCOMMON","has_target":false}],"relics":[{"name":"Burning Blood","id":"Burning Blood","counter":-1},{"name":"Strike Dummy","id":"StrikeDummy","counter":-1},{"name":"Blue Candle","id":"Blue Candle","counter":-1},{"name":"Paper Phrog","id":"Paper Frog","counter":-1}],"max_hp":80,"act_boss":"Hexaghost","gold":277,"action_phase":"WAITING_ON_USER","act":1,"screen_name":"NONE","room_phase":"COMBAT","is_screen_up":false,"potions":[{"requires_target":false,"can_use":true,"can_discard":true,"name":"Entropic Brew","id":"EntropicBrew"},{"requires_target":false,"can_use":true,"can_discard":true,"name":"Attack Potion","id":"AttackPotion"},{"requires_target":false,"can_use":true,"can_discard":true,"name":"Gambler\u0027s Brew","id":"GamblersBrew"}],"current_hp":47,"floor":16,"ascension_level":0,"class":"IRONCLAD","map":[{"symbol":"M","children":[{"x":1,"y":1}],"x":0,"y":0,"parents":[]},{"symbol":"M","children":[{"x":3,"y":1},{"x":5,"y":1}],"x":4,"y":0,"parents":[]},{"symbol":"M","children":[{"x":2,"y":2}],"x":1,"y":1,"parents":[]},{"symbol":"M","children":[{"x":3,"y":2}],"x":3,"y":1,"parents":[]},{"symbol":"?","children":[{"x":4,"y":2},{"x":6,"y":2}],"x":5,"y":1,"parents":[]},{"symbol":"M","children":[{"x":2,"y":3},{"x":3,"y":3}],"x":2,"y":2,"parents":[]},{"symbol":"M","children":[{"x":3,"y":3}],"x":3,"y":2,"parents":[]},{"symbol":"M","children":[{"x":3,"y":3},{"x":4,"y":3}],"x":4,"y":2,"parents":[]},{"symbol":"?","children":[{"x":5,"y":3}],"x":6,"y":2,"parents":[]},{"symbol":"$","children":[{"x":3,"y":4}],"x":2,"y":3,"parents":[]},{"symbol":"?","children":[{"x":3,"y":4},{"x":4,"y":4}],"x":3,"y":3,"parents":[]},{"symbol":"M","children":[{"x":5,"y":4}],"x":4,"y":3,"parents":[]},{"symbol":"?","children":[{"x":5,"y":4}],"x":5,"y":3,"parents":[]},{"symbol":"M","children":[{"x":2,"y":5}],"x":3,"y":4,"parents":[]},{"symbol":"?","children":[{"x":3,"y":5},{"x":4,"y":5}],"x":4,"y":4,"parents":[]},{"symbol":"M","children":[{"x":4,"y":5},{"x":6,"y":5}],"x":5,"y":4,"parents":[]},{"symbol":"R","children":[{"x":1,"y":6},{"x":2,"y":6}],"x":2,"y":5,"parents":[]},{"symbol":"R","children":[{"x":2,"y":6}],"x":3,"y":5,"parents":[]},{"symbol":"M","children":[{"x":3,"y":6},{"x":4,"y":6}],"x":4,"y":5,"parents":[]},{"symbol":"R","children":[{"x":5,"y":6}],"x":6,"y":5,"parents":[]},{"symbol":"M","children":[{"x":1,"y":7}],"x":1,"y":6,"parents":[]},{"symbol":"?","children":[{"x":3,"y":7}],"x":2,"y":6,"parents":[]},{"symbol":"E","children":[{"x":3,"y":7}],"x":3,"y":6,"parents":[]},{"symbol":"M","children":[{"x":5,"y":7}],"x":4,"y":6,"parents":[]},{"symbol":"?","children":[{"x":5,"y":7}],"x":5,"y":6,"parents":[]},{"symbol":"M","children":[{"x":2,"y":8}],"x":1,"y":7,"parents":[]},{"symbol":"M","children":[{"x":2,"y":8},{"x":4,"y":8}],"x":3,"y":7,"parents":[]},{"symbol":"E","children":[{"x":5,"y":8},{"x":6,"y":8}],"x":5,"y":7,"parents":[]},{"symbol":"T","children":[{"x":1,"y":9},{"x":3,"y":9}],"x":2,"y":8,"parents":[]},{"symbol":"T","children":[{"x":5,"y":9}],"x":4,"y":8,"parents":[]},{"symbol":"T","children":[{"x":5,"y":9}],"x":5,"y":8,"parents":[]},{"symbol":"T","children":[{"x":6,"y":9}],"x":6,"y":8,"parents":[]},{"symbol":"?","children":[{"x":2,"y":10}],"x":1,"y":9,"parents":[]},{"symbol":"R","children":[{"x":3,"y":10},{"x":4,"y":10}],"x":3,"y":9,"parents":[]},{"symbol":"?","children":[{"x":4,"y":10}],"x":5,"y":9,"parents":[]},{"symbol":"$","children":[{"x":5,"y":10}],"x":6,"y":9,"parents":[]},{"symbol":"M","children":[{"x":3,"y":11}],"x":2,"y":10,"parents":[]},{"symbol":"?","children":[{"x":3,"y":11}],"x":3,"y":10,"parents":[]},{"symbol":"M","children":[{"x":5,"y":11}],"x":4,"y":10,"parents":[]},{"symbol":"M","children":[{"x":6,"y":11}],"x":5,"y":10,"parents":[]},{"symbol":"M","children":[{"x":3,"y":12},{"x":4,"y":12}],"x":3,"y":11,"parents":[]},{"symbol":"R","children":[{"x":4,"y":12},{"x":6,"y":12}],"x":5,"y":11,"parents":[]},{"symbol":"R","children":[{"x":6,"y":12}],"x":6,"y":11,"parents":[]},{"symbol":"E","children":[{"x":3,"y":13}],"x":3,"y":12,"parents":[]},{"symbol":"M","children":[{"x":4,"y":13},{"x":5,"y":13}],"x":4,"y":12,"parents":[]},{"symbol":"E","children":[{"x":5,"y":13},{"x":6,"y":13}],"x":6,"y":12,"parents":[]},{"symbol":"M","children":[{"x":4,"y":14}],"x":3,"y":13,"parents":[]},{"symbol":"?","children":[{"x":4,"y":14}],"x":4,"y":13,"parents":[]},{"symbol":"M","children":[{"x":4,"y":14},{"x":5,"y":14}],"x":5,"y":13,"parents":[]},{"symbol":"M","children":[{"x":5,"y":14},{"x":6,"y":14}],"x":6,"y":13,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":4,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":5,"y":14,"parents":[]},{"symbol":"R","children":[{"x":3,"y":16}],"x":6,"y":14,"parents":[]}],"room_type":"MonsterRoomBoss"}}'
class TempBattleHandlerTestCase(unittest.TestCase):

    def test_plays_bash(self):
        handler = BattleHandler()
        state = GameState(json.loads(PLAY_BASH_STATE))

        self.assertEqual(["play 2 0"], handler.handle(state))

    def test_entangled(self):
        handler = BattleHandler()
        state = GameState(json.loads(ENTANGLED_STATE))

        self.assertEqual(["play 4"], handler.handle(state))

    def test_defense_mode(self):
        handler = BattleHandler()
        state = GameState(json.loads(DEFENSE_MODE_STATE))

        self.assertEqual(["play 3"], handler.handle(state))

    def test_kill_instead_of_defense_mode(self):
        handler = BattleHandler()
        state = GameState(json.loads(NO_DEFENSE_BECAUSE_KILL_STATE))

        self.assertEqual(["play 1 0"], handler.handle(state))

    def test_kill_lagavulin_state(self):
        handler = BattleHandler()
        state = GameState(json.loads(KILL_STATE_LAGAVULIN))

        self.assertEqual(["play 3 0"], handler.handle(state))
    def test_unplayable_clash(self):
        handler = BattleHandler()
        state = GameState(json.loads(UNPLAYABLE_CLASH))

        self.assertEqual(["play 1 0"], handler.handle(state))

    def test_multi_counted_correctly_for_expected_damage(self):
        handler = BattleHandler()
        state = GameState(json.loads(BIG_MULTI_FROM_HEXA))

        self.assertEqual(["play 3"], handler.handle(state))


if __name__ == '__main__':
    unittest.main()
